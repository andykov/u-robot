!function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(r){function o(e){var t=r.style.width;r.style.width="0px",r.offsetWidth,r.style.width=t,r.style.overflowY=e,i()}function i(){var e=r.style.height,t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(r),n=document.documentElement&&document.documentElement.scrollTop;r.style.height="auto";var o=r.scrollHeight+d;return 0===r.scrollHeight?void(r.style.height=e):(r.style.height=o+"px",l=r.clientWidth,t.forEach(function(e){e.node.scrollTop=e.scrollTop}),void(n&&(document.documentElement.scrollTop=n)))}function e(){i();var e=window.getComputedStyle(r,null),t=Math.round(parseFloat(e.height));if(t!==Math.round(parseFloat(r.style.height))?"visible"!==e.overflowY&&o("visible"):"hidden"!==e.overflowY&&o("hidden"),s!==t){s=t;var n=c("autosize:resized");r.dispatchEvent(n)}}if(r&&r.nodeName&&"TEXTAREA"===r.nodeName&&!u.has(r)){var d=null,l=r.clientWidth,s=null,n=function(){r.clientWidth!==l&&e()},a=function(t){window.removeEventListener("resize",n,!1),r.removeEventListener("input",e,!1),r.removeEventListener("keyup",e,!1),r.removeEventListener("autosize:destroy",a,!1),r.removeEventListener("autosize:update",e,!1),u.delete(r),Object.keys(t).forEach(function(e){r.style[e]=t[e]})}.bind(r,{height:r.style.height,resize:r.style.resize,overflowY:r.style.overflowY,overflowX:r.style.overflowX,wordWrap:r.style.wordWrap});r.addEventListener("autosize:destroy",a,!1),"onpropertychange"in r&&"oninput"in r&&r.addEventListener("keyup",e,!1),window.addEventListener("resize",n,!1),r.addEventListener("input",e,!1),r.addEventListener("autosize:update",e,!1),u.add(r),r.style.overflowX="hidden",r.style.wordWrap="break-word","vertical"===(t=window.getComputedStyle(r,null)).resize?r.style.resize="none":"both"===t.resize&&(r.style.resize="horizontal"),d="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(d)&&(d=0),e()}var t}function o(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=c("autosize:destroy");e.dispatchEvent(t)}}function r(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=c("autosize:update");e.dispatchEvent(t)}}var i,u="function"==typeof Set?new Set:(i=[],{has:function(e){return Boolean(-1<i.indexOf(e))},add:function(e){i.push(e)},delete:function(e){i.splice(i.indexOf(e),1)}}),c=function(e){return new Event(e)};try{new Event("test")}catch(e){c=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var d=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((d=function(e){return e}).destroy=function(e){return e},d.update=function(e){return e}):((d=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e},d.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e}),t.exports=d});